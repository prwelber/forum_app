<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>View all topics</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/combo?pure/0.6.0/base-min.css&pure/0.6.0/grids-min.css&pure/0.6.0/grids-responsive-min.css">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.0.2/css/hover-min.css">
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>
</head>
<body>
    <div class="pure-g wrapper">
        <header class="pure-u-1">
            <div class="header-box">
                <h1>UNIMPRESSIVE INTERNET FORUM</h1>
                <h3>Trolling Optional</h3> 
                <!-- Nav -->   
                <nav class="pure-menu pure-menu-horizontal pure-u-1">
                <ul class="pure-menu-list">
                    <li class="pure-menu-item">
                      <a href="/" class="pure-menu-link">Intro</a>
                    </li>
                    <li class="pure-menu-item">
                      <a href="/topics" class="pure-menu-link">View All Posts</a>
                    </li>
                    <li class="pure-menu-item instasearch">
                      <a href="#" class="pure-menu-link">Post from Instagram</a> 
                      <form action="/topics/instagram" method="GET">
                        <input type="text" name="instagram" placeholder="# is added (no spaces)">
                        <input type="submit" value="search">
                    </form>
                    </li>
                    <li class="pure-menu-item twittersearch">
                      <a href="#" class="pure-menu-link">Post from Twitter</a>
                    </li>
                    <li class="pure-menu-item">
                      <a href="/topics/new" class="pure-menu-link">Create</a>
                    </li>
                </ul>
                </nav>         
            </div>
        </header>

<!-- body -->
    <div class="pure-g topics-container">
    <div class="pure-u-1 sort">
    <form action="/topicsview" method="GET">
        View posts by (most to least): <select name="view">
            <option value="comments">Comments</option>
            <option value="upvotes">Upvotes</option>
            <option value="downvotes">Downvotes</option>
            <option value="views">Views</option>
        </select>
        <input type="submit">
    </form>
    </div>
    <% if (!topicsData){ %>
            <h2>There are no posts yet!</h2>
    <% } else { %>
            <% topicsData.forEach(function(el){ %>
                <div class="pure-u-1-3 topic-box"><a id="load-point-<%=el.id%>"></a>
                    <a href="/topics/<%=el.id%>"><div class="content hvr-grow">
                    
                    <p class="author">Author: <%=el.username %></p>
                    <p class="title">Title: <%= el.title %></p>
                    <% if (el.img !== '0'){ %>
                            <img src=<%=el.img%>>
                     <% } %>
                    <p class="body"><%= el.body %></p>
                    <p class="date">Posted on: <%=el.timestamp %></p>
                    <p class="upvotes">Upvotes: <%= el.upvotes %> </p>
                    <p class="comments">Number of comments: <%=el.comments%></p>
                    <form action="/topics/<%=el.id%>/upvote?_method=PUT" method="POST">
                        <input type="submit" value="upvote this post">
                    </form>
                    <!-- <a href="/topics/<%=el.id%>">View Post</a> -->
                
                    </div></a>
            </div>
    <%})} %>


        </div>



    </div>
</body>
</html>